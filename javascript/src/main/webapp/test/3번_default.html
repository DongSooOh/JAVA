<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>3번_default</title>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const input_name = document.querySelector('#user_name');
            const output_name = document.querySelector('.name');
            const inputs = document.querySelectorAll('.test');
            const sum = document.querySelector('.sum');
            const ave = document.querySelector('.ave');

            input_name.addEventListener('keyup', (event) => {
                output_name.textContent = event.currentTarget.value;
            });

            class Student {
                constructor(name, kor, eng, mat, sci) {
                    this.name = name;
                    this.kor = kor;
                    this.eng = eng;
                    this.mat = mat;
                    this.sci = sci;
                }
                getSum() {
                    return this.kor + this.eng + this.mat + this.sci;
                }
                getAverage() {
                    return this.getSum() / 4;
                }
            }

           const student = new Student('', 0, 0, 0, 0);
            
            inputs.forEach((input) => {
                input.addEventListener('input', () => {
               		student[input.name] = Number(input.value);
                    sum.textContent = student.getSum();
                    ave.textContent = student.getAverage().toFixed(1); 
                });
            });
        });
    </script>
</head>
<body>
    <form>
        <fieldset>
            <legend>성적 입력</legend>
            <p>이름: <input type="text" id="user_name"></p>
            <span>국어: <input type="number" class="test" name="kor" min="0" max="100">점</span>
            <span>영어: <input type="number" class="test" name="eng" min="0" max="100">점</span>
            <span>수학: <input type="number" class="test" name="mat" min="0" max="100">점</span>
            <span>과학: <input type="number" class="test" name="sci" min="0" max="100">점</span>
            <p><input type="submit" value="제출하기"></p>
        </fieldset>
        <fieldset>
            <legend>성적표</legend>
            <div>
                <p>이름: <span class="name"></span></p>
                <p>총점: <output class="sum"></output></p>
                <p>평균: <output class="ave"></output></p>
            </div>
        </fieldset>
    </form>
</body>
</html>
