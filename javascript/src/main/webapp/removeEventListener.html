<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>removeEventListener</title>
		<script>
			document.addEventListener('DOMContentLoaded', () => {
				/*	document : 문서
					addEventListener : 지정된 이벤트가 발생할 때 실행할 함수를 등록
					(특정 이벤트를 감지하고 그에 대응하는 동작을 지정)
					DOMContentLoaded : 이벤트명, () => {...} : 콜백 함수 */
				let counter = 0;
				let isConnect = false;
				
				const h1 = document.querySelector('h1');
				const p = document.querySelector('p');
				const connectButton = document.querySelector('#connect');
				const disconnectButton = document.querySelector('#disconnect');
				
				const listener = (event) => {
					h1.textContent = `클릭 횟수: ${counter++}`;
				}
				
				connectButton.addEventListener('click', () => {
					if (isConnect === false) {
						h1.addEventListener('click', listener);
						p.textContent = '이벤트 연결상태: 연결';
						isConnect = true;
					};
				});
				
				disconnectButton.addEventListener('click', () => {
					if (isConnect === true) {
						h1.removeEventListener('click', listener);
						p.textContent = '이벤트 연결상태: 해제';
						isConnect = false;
					};
				})
			});
		</script>
		<style>
			h1 { user-select: none; /* 여러 번 클릭했을 때 글자가 선택되는 것을 막기 위한 스타일 */ }
		</style>
	</head>
	<body>
		<h1>클릭 횟수: 0</h1>
		<button id="connect">이벤트 연결</button>
		<button id="disconnect">이벤트 제거</button>
		<p>이벤트 연결상태: 해제</p>
	</body>
</html>